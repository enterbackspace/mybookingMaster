    <div class="container">
      <h2 class="mat-title">Edit Profile</h2>
      <mat-card class="profile-card">
        <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
          <mat-card-content>
            <div class="profile-details">
              <!-- Profile Picture -->
              <div class="profile-image-container">
                <img *ngIf="profileForm" [src]="profileForm" alt="Profile Picture" class="profile-image">
                <p *ngIf="!profileForm" class="no-data">No profile picture</p>
                <input type="file" (change)="onFileSelect($event)" accept="image/*">
              </div>

              <!-- Form Fields -->
              <mat-form-field appearance="outline">
                <mat-label>Username</mat-label>
                <input matInput formControlName="username" readonly>
              </mat-form-field>

              <mat-form-field appearance="outline">
                <mat-label>Email</mat-label>
                <input matInput formControlName="email" type="email" required>
                <mat-error *ngIf="profileForm.get('email')?.hasError('email')">
                  Please enter a valid email
                </mat-error>
              </mat-form-field>

              <mat-form-field appearance="outline">
                <mat-label>Name</mat-label>
                <input matInput formControlName="name">
              </mat-form-field>

              <mat-form-field appearance="outline">
                <mat-label>Mobile</mat-label>
                <input matInput formControlName="mobile" pattern="\+91[0-9]{10}">
                <mat-error *ngIf="profileForm.get('mobile')?.hasError('pattern')">
                  Please enter a valid mobile number (e.g., +919876543210)
                </mat-error>
              </mat-form-field>

              <mat-form-field appearance="outline">
                <mat-label>Gender</mat-label>
                <mat-select formControlName="gender">
                  <mat-option value="male">Male</mat-option>
                  <mat-option value="female">Female</mat-option>
                  <mat-option value="other">Other</mat-option>
                </mat-select>
              </mat-form-field>

              <p><strong>Role:</strong> {{ profileForm.get('role')?.value ? (profileForm.get('role')?.value | titlecase) : 'N/A' }}</p>

              <!-- Address Fields -->
              <p><strong>Address:</strong></p>
              <div class="address-details">
                <mat-form-field appearance="outline">
                  <mat-label>Street</mat-label>
                  <input matInput formControlName="street">
                </mat-form-field>
                <mat-form-field appearance="outline">
                  <mat-label>City</mat-label>
                  <input matInput formControlName="city">
                </mat-form-field>
                <mat-form-field appearance="outline">
                  <mat-label>State</mat-label>
                  <input matInput formControlName="state">
                </mat-form-field>
                <mat-form-field appearance="outline">
                  <mat-label>Pincode</mat-label>
                  <input matInput formControlName="pincode" pattern="[0-9]{6}">
                  <mat-error *ngIf="profileForm.get('pincode')?.hasError('pattern')">
                    Please enter a valid 6-digit pincode
                  </mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                  <mat-label>Country</mat-label>
                  <input matInput formControlName="country">
                </mat-form-field>
              </div>
            </div>
          </mat-card-content>
          <mat-card-actions>
            <button mat-flat-button color="primary" type="submit" [disabled]="profileForm.invalid">Save</button>
            <button mat-flat-button color="warn" (click)="goBack()">Cancel</button>
          </mat-card-actions>
        </form>
      </mat-card>
    </div>